<app-download-file [fileHandler]="profilePicHandler" [fileId]="userId" [autodownload]="true" (blobEmitter)="onGetImage($event)" (errorEmitter)="onError()"></app-download-file>
<div [style]="width" class="center">

    <ng-container *ngIf="this.loading; else notLoading">
        <mat-spinner [diameter]="size"></mat-spinner>
    </ng-container>
    <ng-template #notLoading>
        <ng-container *ngIf="!this.hasError; else downloadError">
            <img class="border-color-primary" [style]="style" [src]="imageSrc"/>    
            <app-upload-file *ngIf="showUploadButton" (onUploadComplete)="onUploadComplete()" (onUploadStart)="onUploadStart()" [style]="uploadStyle" [uploadId]="this.userId" [autoUpload]="true" [fileHandler]="profilePicHandler"></app-upload-file>
        </ng-container>
        <ng-template #downloadError>
            <img [style]="fit+width" src="assets/images/defaultIcon.svg"/>    
        </ng-template>
        
    </ng-template>
    
    
</div>